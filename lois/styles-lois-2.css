/* styles-lois-2.css */
:root {
  --bg: #c5d1e2;
  --bg-rgb: 197 209 226;

  --ink: #3a1212;

  --footer-h: 34px;
  --footer-logo-w: 140px;

  /* footer animation vars */
  --banner-h: var(--footer-h);
  --banner-base: #3a1212;
  --banner-base-rgb: 58 18 18;

  /* Prep for future breakpoint work */
  --bp-pre-mobile: 1180px;
  --bp-mobile: 820px;

  /* Fade specs */
  --top-fade-solid: 94px;
  --top-fade-ramp: 44px; /* transition to 0 opacity */
  --bottom-fade-h: 74px; /* from top of footer up to 0 opacity */
}

/* Selection styling */
::selection {
  background: #3a1212;
  color: #acb9c2;
}
::-moz-selection {
  background: #3a1212;
  color: #acb9c2;
}

/* Local Tenopate fonts (folder sits alongside these files) */
@font-face {
  font-family: "Tenopate";
  src: url("tenopate-font/tenopate.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Tenopate Salt 9";
  src: url("tenopate-font/tenopate-salt-9.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  background: var(--bg);
}

/* Entire site does not scroll; only body text scrolls */
body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  overflow: hidden;

  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.page {
  height: 100vh;
  display: grid;

  /* Left takes remaining space, right is 44vw with a soft min so it stays responsive */
  grid-template-columns: minmax(0, 1fr) minmax(480px, calc(44vw + 20px));
}

/* LEFT (logo fixed, text scrolls) */
.left {
  position: relative;
  height: 100vh;
  overflow: hidden;
}

/* Top fade (text fades behind logo area) */
.left::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;

  height: calc(var(--top-fade-solid) + var(--top-fade-ramp));
  pointer-events: none;

  z-index: 20; /* above scrolling text, below logo */
  background: linear-gradient(
    to bottom,
    rgb(var(--bg-rgb) / 1) 0,
    rgb(var(--bg-rgb) / 1) var(--top-fade-solid),
    rgb(var(--bg-rgb) / 0) calc(var(--top-fade-solid) + var(--top-fade-ramp))
  );
}

/* Bottom fade just above footer (text fades in toward footer) */
.left::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: var(--footer-h);

  height: var(--bottom-fade-h);
  pointer-events: none;

  z-index: 20; /* above scrolling text */
  background: linear-gradient(
    to top,
    rgb(var(--bg-rgb) / 1) 0,
    rgb(var(--bg-rgb) / 0) var(--bottom-fade-h)
  );
}

/* LOGO: fixed in viewport, does not scroll */
.logo {
  position: fixed;
  left: 46px; /* x = 46 */
  top: 38px; /* y = 38 */

  height: 54px;
  width: auto; /* keep aspect ratio */
  display: block;

  z-index: 30; /* above fades + text */
}

/* BODY TEXT: the only scrollable area */
.intro {
  position: relative;
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;

  /* align with logo x */
  margin-left: 46px;

  /* body text container width = 46% viewport */
  width: 46vw;

  /* 38px gap below logo:
     top padding = logo y (38) + logo height (54) + gap (38) = 130px */
  padding-top: 130px;

  /* allow content to scroll behind bottom fade + footer without clipping */
  padding-bottom: calc(var(--footer-h) + var(--bottom-fade-h) + 40px);

  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2.2rem;

  font-family: "Tenopate", "Tenopate Salt 9", "Source Serif 4", serif;

  /* 38px in rem, 40px line-height in rem */
  font-size: 2.375rem; /* 38/16 */
  line-height: 2.5rem; /* 40/16 */
  font-weight: 400;

  /* Make scrollbar invisible cross-browser */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge Legacy */
}

/* WebKit scrollbar hiding (Chrome/Safari/Edge) */
.intro::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.intro::-webkit-scrollbar-thumb {
  background: transparent;
}
.intro::-webkit-scrollbar-track {
  background: transparent;
}

.intro p {
  margin: 0;
}

.intro em {
  font-style: italic;
}

/* Main-body interactive links:
   - lighter underline
   - closer to text
   - skips descenders/loops (skip-ink)
*/
a.linkish,
button.copy-link {
  font: inherit;
  color: var(--ink);

  text-decoration-line: underline;
  text-decoration-style: solid;

  /* ensure underline avoids cutting through glyphs where supported */
  text-decoration-skip-ink: auto;

  /* slightly thinner underline */
  text-decoration-thickness: 0.045em;

  /* bring underline closer to the text */
  text-underline-offset: 0.11em;

  text-underline-position: from-font;
  cursor: pointer;
}

/* Force no "visited" styling anywhere */
a.linkish:visited,
a.linkish:visited:hover,
a.linkish:visited:active {
  color: var(--ink);
  text-decoration-color: currentColor;
}

/* No clicked/active colour changes */
a.linkish:active,
a.linkish:hover {
  color: var(--ink);
}

/* Hover = italic (main-body only) */
a.linkish:hover,
button.copy-link:hover {
  font-style: italic;
}

/* Make the button look exactly like text */
button.copy-link {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  appearance: none;

  /* ensure no UA styling applies */
  text-decoration-color: currentColor;
}

/* Avoid browser default focus rings changing the look */
a.linkish:focus,
a.linkish:focus-visible,
button.copy-link:focus,
button.copy-link:focus-visible {
  outline: none;
}

/* RIGHT (image should sit above fades) */
.right {
  display: flex;
  justify-content: flex-end;
  align-items: flex-start;

  height: 100vh;

  padding-top: 20px;
  padding-right: 20px;
  padding-bottom: calc(var(--footer-h) + 20px);

  min-width: 0;

  position: relative;
  z-index: 50; /* ensure image is never visually “faded” by overlays */
}

.hero-frame {
  width: 100%;
  height: calc(100vh - 20px - 20px - var(--footer-h));
  overflow: hidden;
}

.hero-image {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  object-position: center;
}

/* FOOTER (unchanged text; fixed) */
.sticky-footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;

  height: var(--footer-h);
  min-height: var(--footer-h);
  max-height: var(--footer-h);

  background: var(--banner-base);

  display: flex;
  align-items: center;

  padding: 0 20px 0 46px;

  overflow: hidden;
  z-index: 9999;
}

/* Fade-to-base zone in footer */
.sticky-footer::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background: linear-gradient(
    to right,
    rgb(var(--banner-base-rgb) / 1) 0%,
    rgb(var(--banner-base-rgb) / 1) 60%,
    rgb(var(--banner-base-rgb) / 0) 75%,
    rgb(var(--banner-base-rgb) / 0) 100%
  );
}

/* subtle grain/texture */
.sticky-footer::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  opacity: 0.12;
  mix-blend-mode: overlay;
  background-image: repeating-linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.06) 0 2px,
    rgba(0, 0, 0, 0.06) 2px 4px
  );
}

/* right-side shield to keep animation off the logo area */
.sticky-footer .footer-shield {
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;

  width: calc(var(--footer-logo-w, 140px) + 20px + 48px);

  pointer-events: none;
  z-index: 5;

  background:
    linear-gradient(
      to left,
      rgb(var(--banner-base-rgb) / 1) 0 20px,
      rgb(var(--banner-base-rgb) / 0) 20px
    ),
    linear-gradient(
      to left,
      rgb(var(--banner-base-rgb) / 1) 0%,
      rgb(var(--banner-base-rgb) / 1) 35%,
      rgb(var(--banner-base-rgb) / 0) 100%
    );
}

.footer-logo {
  position: relative;
  z-index: 6;

  height: 100%;
  width: auto;
  display: block;

  margin-left: auto;
}

.footer-inner {
  position: relative;
  z-index: 4;

  height: 100%;
  display: inline-flex;
  align-items: center;
  gap: 6px;

  color: #c5d1e2;
  font-family: "Source Serif 4", "Source Serif Pro", serif;
  font-size: 15px;
  font-weight: 400;
  line-height: 21px;
}

/* moving blocks layer */
.footer-banner {
  position: absolute;
  inset: 0;
  z-index: 1;
}

.marquee {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: stretch;
  z-index: 1;
}

.marquee__inner {
  display: flex;
  height: 100%;
  width: max-content;
  will-change: transform;
  animation: bannerScroll 120s linear infinite;
}

@keyframes bannerScroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

.banner-block {
  position: relative;
  height: 100%;
  flex: 0 0 auto;
  transition: background-color 6s ease, width 6s ease;
}

.banner-block::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.10;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.25), rgba(0, 0, 0, 0.25));
  mix-blend-mode: soft-light;
}

.footer-ig {
  color: #c5d1e2;
  text-decoration: none;
  font-style: normal;
  cursor: pointer;
}

.footer-ig:hover,
.footer-ig:active,
.footer-ig:visited {
  color: #c5d1e2;
  text-decoration: none;
  font-style: normal;
}

.footer-linkish,
.footer-dot,
.footer-copy {
  color: #c5d1e2;
}

/* -------- Responsive behaviour (prep for eventual mobile breakpoint) -------- */
/* Prevent overlap: at narrower widths, pin image to the right and constrain text width accordingly. */
@media (max-width: 1180px) {
  .page {
    display: block;
  }

  .right {
    position: fixed;
    top: 20px;
    right: 20px;
    bottom: calc(var(--footer-h) + 20px);

    width: min(44vw, 520px);
    height: auto;

    padding: 0;
    z-index: 50;
  }

  .hero-frame {
    width: 100%;
    height: 100%;
  }

  /* Keep text from running under the fixed image */
  .intro {
    width: calc(100vw - (min(44vw, 520px) + 46px + 80px));
    max-width: 700px;
  }
}

/* Placeholder for future mobile breakpoint where layout can switch to a single column. */
/*
@media (max-width: 820px) {
  // future mobile layout rules go here
}
*/

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .marquee__inner {
    animation: none;
  }
  .banner-block {
    transition: none;
  }
}
